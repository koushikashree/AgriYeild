<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n-key="appTitle">AgriYield Predictor: Karnataka</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configure Tailwind for custom styles -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-green': '#10b981',
                        'secondary-gold': '#fbbf24',
                        'indigo-button': '#6366f1',
                        'bg-light': '#f9fafb',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom styles for better look and feel */
        body {
            background-color: #f9fafb;
            font-family: 'Inter', sans-serif;
        }
        .step-container {
            transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
        }
        .card {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <!-- Pre-Step: Start Modal (User interaction required for voice) -->
    <div id="start-modal-backdrop" class="fixed inset-0 bg-gray-900 bg-opacity-90 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl p-8 max-w-sm w-full card text-center transform scale-100 transition duration-300">
            <h3 data-i18n-key="startModalTitle" class="text-2xl font-extrabold mb-4 text-primary-green">Welcome to AgriYield Predictor</h3>
            <p data-i18n-key="startModalMessage" class="text-gray-700 mb-6">Click **Start** to enable the voice assistant and begin the selection process for your farm details.</p>
            <button onclick="startApp()" data-i18n-key="startModalButton" class="w-full py-3 px-4 bg-primary-green text-white font-bold rounded-lg hover:bg-emerald-600 transition duration-150 shadow-lg">
                Start
            </button>
        </div>
    </div>

    <!-- Main Application Container (Hidden until start is clicked) -->
    <div id="app-container" class="w-full max-w-2xl bg-white rounded-xl card overflow-hidden hidden">
        <header class="p-6 bg-primary-green text-white text-center rounded-t-xl">
            <h1 data-i18n-key="appTitle" class="text-3xl font-extrabold tracking-tight">üåæ AgriYield Predictor</h1>
            <p data-i18n-key="appSubtitle" class="text-sm opacity-90 mt-1">Karnataka State Yield Forecasting</p>
        </header>

        <!-- Dynamic Content Area -->
        <div id="content-area" class="p-6">

            <!-- =========================== -->
            <!-- STEP 1: Language Selection -->
            <!-- =========================== -->
            <div id="step-1" class="step-container hidden">
                <h2 id="step1-title" class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-2" data-i18n-key="step1Title">Step 1: Language Selection</h2>

                <div id="voice-message" class="text-center mb-6 p-4 bg-blue-100 border border-blue-200 rounded-lg text-blue-800">
                    <p data-i18n-key="voicePrompt" class="font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline mr-2 -mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                        </svg>
                        Voice Assistant is active. Please select the language!
                    </p>
                </div>

                <div class="space-y-4">
                    <button onclick="selectLanguage('en')" class="w-full py-3 px-4 bg-primary-green text-white font-bold rounded-lg hover:bg-emerald-600 transition duration-150">
                        English
                    </button>
                    <button onclick="selectLanguage('kn')" class="w-full py-3 px-4 bg-secondary-gold text-white font-bold rounded-lg hover:bg-yellow-600 transition duration-150">
                        ‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)
                    </button>
                    <button onclick="selectLanguage('te')" class="w-full py-3 px-4 bg-indigo-500 text-white font-bold rounded-lg hover:bg-indigo-600 transition duration-150">
                        ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)
                    </button>
                </div>
            </div>

            <!-- =========================== -->
            <!-- STEP 2: Input Collection -->
            <!-- =========================== -->
            <div id="step-2" class="step-container hidden">
                <h2 id="step2-title" class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-2" data-i18n-key="step2Title">Step 2: Enter Farm Details</h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="col-span-1">
                        <label for="district" data-i18n-key="labelDistrict" class="block text-sm font-medium text-gray-700">District Selection</label>
                        <select id="district" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-green focus:border-primary-green sm:text-sm rounded-md">
                            <option data-i18n-key="selectDistrictPlaceholder" value="">-- Select District --</option>
                            <!-- Options remain in English for data consistency -->
                            <option value="Bengaluru Urban">Bengaluru Urban</option>
                            <option value="Mysuru">Mysuru</option>
                            <option value="Mandya">Mandya</option>
                            <option value="Shivamogga">Shivamogga</option>
                            <option value="Belagavi">Belagavi</option>
                            <option value="Kalaburagi">Kalaburagi</option>
                            <option value="Dharwad">Dharwad</option>
                            <option value="Chikmagalur">Chikmagalur</option>
                        </select>
                    </div>

                    <div class="col-span-1">
                        <label for="season" data-i18n-key="labelSeason" class="block text-sm font-medium text-gray-700">Season</label>
                        <select id="season" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-green focus:border-primary-green sm:text-sm rounded-md">
                            <option data-i18n-key="selectSeasonPlaceholder" value="">-- Select Season --</option>
                            <option value="Kharif">Kharif (Monsoon)</option>
                            <option value="Rabi">Rabi (Winter)</option>
                            <option value="Summer">Summer</option>
                        </select>
                    </div>

                    <div class="col-span-1">
                        <label for="year" data-i18n-key="labelYear" class="block text-sm font-medium text-gray-700">Year</label>
                        <select id="year" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-green focus:border-primary-green sm:text-sm rounded-md">
                            <option data-i18n-key="selectYearPlaceholder" value="">-- Select Year --</option>
                            <script>
                                const currentYear = new Date().getFullYear();
                                for (let y = currentYear; y >= currentYear - 5; y--) {
                                    document.write(`<option value="${y}">${y}</option>`);
                                }
                            </script>
                        </select>
                    </div>

                    <div class="col-span-1">
                        <label for="crop" data-i18n-key="labelCrop" class="block text-sm font-medium text-gray-700">Crop</label>
                        <select id="crop" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-green focus:border-primary-green sm:text-sm rounded-md">
                            <option data-i18n-key="selectCropPlaceholder" value="">-- Select Crop --</option>
                            <!-- Crop options remain in English for data consistency -->
                            <option value="Rice (Paddy)">Rice (Paddy)</option>
                            <option value="Maize">Maize</option>
                            <option value="Finger Millet (Ragi)">Finger Millet (Ragi)</option>
                            <option value="Sorghum (Jowar)">Sorghum (Jowar)</option>
                            <option value="Pigeon Pea (Tur/Red Gram)">Pigeon Pea (Tur/Red Gram)</option>
                            <option value="Sugarcane">Sugarcane</option>
                            <option value="Groundnut">Groundnut</option>
                            <option value="Sunflower">Sunflower</option>
                            <option value="Coffee">Coffee</option>
                            <option value="Cotton">Cotton</option>
                        </select>
                    </div>
                </div>

                <button onclick="nextStep(2)" id="btn-next-step2" data-i18n-key="btnNextManagement" class="mt-6 w-full py-3 px-4 bg-primary-green text-white font-bold rounded-lg hover:bg-emerald-600 transition duration-150 shadow-lg">
                    Next: Management Inputs
                </button>
            </div>

            <!-- =========================== -->
            <!-- STEP 3: Management Inputs -->
            <!-- =========================== -->
            <div id="step-3" class="step-container hidden">
                <h2 id="step3-title" class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-2" data-i18n-key="step3Title">Step 3: Farm Management Checklist</h2>

                <div class="space-y-4">

                    <!-- Soil Fertility Test -->
                    <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                        <p data-i18n-key="qSoilTest" class="font-medium text-gray-700 mb-2">Soil Fertility Test Done? (Find-S Algorithm Input)</p>
                        <div class="flex space-x-4">
                            <label class="inline-flex items-center"><input type="radio" name="soilTest" value="Yes" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optYes">Yes</span></label>
                            <label class="inline-flex items-center"><input type="radio" name="soilTest" value="No" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optNo">No</span></label>
                        </div>
                    </div>

                    <!-- Seed Quality Test -->
                    <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                        <p data-i18n-key="qSeedTest" class="font-medium text-gray-700 mb-2">Seed Quality Test Done?</p>
                        <div class="flex space-x-4">
                            <label class="inline-flex items-center"><input type="radio" name="seedTest" value="Yes" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optYes">Yes</span></label>
                            <label class="inline-flex items-center"><input type="radio" name="seedTest" value="No" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optNo">No</span></label>
                        </div>
                    </div>

                    <!-- Pre-emergence Spray -->
                    <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                        <p data-i18n-key="qPreEmergence" class="font-medium text-gray-700 mb-2">Pre-emergence Herbicide Sprayed?</p>
                        <div class="flex space-x-4">
                            <label class="inline-flex items-center"><input type="radio" name="preEmergence" value="Yes" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optYes">Yes</span></label>
                            <label class="inline-flex items-center"><input type="radio" name="preEmergence" value="No" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optNo">No</span></label>
                        </div>
                    </div>

                    <!-- Rainfall Input and Info -->
                    <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                        <label for="rainfall" data-i18n-key="labelRainfall" class="block text-sm font-medium text-gray-700">Observed Rainfall during Season</label>
                        <select id="rainfall" onchange="showRainfallInfo()" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-green focus:border-primary-green sm:text-sm rounded-md">
                            <option data-i18n-key="selectRainfallPlaceholder" value="">-- Select Level --</option>
                            <option data-i18n-key="optLess" value="Less">Less</option>
                            <option data-i18n-key="optModerate" value="Moderate">Moderate</option>
                            <option data-i18n-key="optHigh" value="High">High</option>
                        </select>
                        <p id="rec-rainfall" class="text-sm text-blue-600 mt-2 hidden"></p>
                    </div>

                    <!-- Weed Management -->
                    <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                        <p data-i18n-key="qWeedMgmt" class="font-medium text-gray-700 mb-2">Effective Weed Management Done?</p>
                        <div class="flex space-x-4">
                            <label class="inline-flex items-center"><input type="radio" name="weedMgmt" value="Yes" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optYes">Yes</span></label>
                            <label class="inline-flex items-center"><input type="radio" name="weedMgmt" value="No" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optNo">No</span></label>
                        </div>
                    </div>

                    <!-- Pest Management -->
                    <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                        <p data-i18n-key="qPestMgmt" class="font-medium text-gray-700 mb-2">Effective Pest Management Done?</p>
                        <div class="flex space-x-4">
                            <label class="inline-flex items-center"><input type="radio" name="pestMgmt" value="Yes" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optYes">Yes</span></label>
                            <label class="inline-flex items-center"><input type="radio" name="pestMgmt" value="No" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optNo">No</span></label>
                        </div>
                    </div>

                    <!-- Seed Rate Check -->
                    <div class="p-4 bg-gray-50 rounded-lg shadow-sm">
                        <p data-i18n-key="qSeedRate" class="font-medium text-gray-700 mb-2">Seed Rate (Acres per Seed) Checked and Correct?</p>
                        <div class="flex space-x-4">
                            <label class="inline-flex items-center"><input type="radio" name="seedRate" value="Yes" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optYes">Yes</span></label>
                            <label class="inline-flex items-center"><input type="radio" name="seedRate" value="No" class="form-radio text-primary-green h-4 w-4"> <span class="ml-2" data-i18n-key="optNo">No</span></label>
                        </div>
                    </div>

                </div>

                <button onclick="nextStep(3)" id="btn-predict-yield" data-i18n-key="btnPredictYield" class="mt-6 w-full py-3 px-4 bg-primary-green text-white font-bold rounded-lg hover:bg-emerald-600 transition duration-150 shadow-lg">
                    Predict Yield
                </button>
            </div>

            <!-- =========================== -->
            <!-- STEP 4 & 5: Prediction Result -->
            <!-- =========================== -->
            <div id="step-4" class="step-container hidden">
                <h2 id="step4-title" class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-2" data-i18n-key="step4Title">Step 4: Yield Prediction</h2>

                <div id="prediction-result" class="text-center p-8 rounded-xl shadow-2xl transition duration-500">
                    <!-- Content populated by JavaScript -->
                </div>

                <div class="mt-8 text-center">
                    <button onclick="resetApp()" id="btn-reset" data-i18n-key="btnReset" class="py-2 px-6 bg-gray-300 text-gray-800 font-semibold rounded-lg hover:bg-gray-400 transition duration-150">
                        Start New Prediction
                    </button>
                </div>
            </div>

        </div>
    </div>

    <!-- Custom Pop-up Modal -->
    <div id="modal-backdrop" class="fixed inset-0 bg-gray-900 bg-opacity-70 hidden items-center justify-center p-4 z-50 transition-opacity duration-300 opacity-0">
        <div id="modal-content" class="bg-white rounded-xl p-6 max-w-sm w-full card transform scale-90 transition-transform duration-300">
            <h3 id="modal-title" class="text-xl font-bold mb-3 text-primary-green" data-i18n-key="modalTitleRecommendation">Recommendation</h3>
            <p id="modal-message" class="text-gray-700 mb-4"></p>
            <button onclick="closeModal()" id="btn-modal-ack" data-i18n-key="modalButtonAcknowledge" class="w-full py-2 bg-primary-green text-white font-semibold rounded-lg hover:bg-emerald-600 transition duration-150">
                Acknowledge
            </button>
        </div>
    </div>

    <script>
        const STEPS = ['step-1', 'step-2', 'step-3', 'step-4'];
        let currentStep = 1;
        let currentLangKey = 'en'; // Default language

        // --- Translation Data ---
        const translations = {
            en: {
                appTitle: "üåæ AgriYield Predictor",
                appSubtitle: "Karnataka State Yield Forecasting",
                startModalTitle: "Welcome to AgriYield Predictor",
                startModalMessage: "Click **Start** to enable the voice assistant and begin the selection process for your farm details.",
                startModalButton: "Start",
                step1Title: "Step 1: Language Selection",
                voicePrompt: "Voice Assistant is active. Please select the language!",
                step2Title: "Step 2: Enter Farm Details",
                labelDistrict: "District Selection",
                selectDistrictPlaceholder: "-- Select District --",
                labelSeason: "Season",
                selectSeasonPlaceholder: "-- Select Season --",
                labelYear: "Year",
                selectYearPlaceholder: "-- Select Year --",
                labelCrop: "Crop",
                selectCropPlaceholder: "-- Select Crop --",
                btnNextManagement: "Next: Management Inputs",
                step3Title: "Step 3: Farm Management Checklist",
                qSoilTest: "Soil Fertility Test Done? (Find-S Algorithm Input)",
                qSeedTest: "Seed Quality Test Done?",
                qPreEmergence: "Pre-emergence Herbicide Sprayed?",
                labelRainfall: "Observed Rainfall during Season",
                selectRainfallPlaceholder: "-- Select Level --",
                optLess: "Less",
                optModerate: "Moderate",
                optHigh: "High",
                qWeedMgmt: "Effective Weed Management Done?",
                qPestMgmt: "Effective Pest Management Done?",
                qSeedRate: "Seed Rate (Acres per Seed) Checked and Correct?",
                btnPredictYield: "Predict Yield",
                step4Title: "Step 4: Yield Prediction",
                btnReset: "Start New Prediction",
                optYes: "Yes",
                optNo: "No",
                modalTitleRecommendation: "Recommendation",
                modalButtonAcknowledge: "Acknowledge",
                // Dynamic Message Templates (used in JS logic)
                msgInputError: "Please answer all questions in the Farm Management Checklist.",
                msgYieldUnitQuintal: "Quintals/Acre",
                msgYieldUnitTonne: "Tonnes/Acre",
                msgOptimalManagement: "Great Job! All management practices are checked 'Yes'. This indicates a strong potential for high yield!",
                msgBestCropRecIntro: "Based on **{district}** and **{season}**, the recommended best-fit crop is **{bestCrop}**.",
                msgBestCropRecBody: "You can still proceed with your choice of **{crop}**, but the prediction may be lower.",
                msgCriticalRecTitle: "‚ö†Ô∏è Immediate Action Recommended",
                msgCriticalRecIntro: "Your yield prediction will be penalized based on the following unaddressed management practices. Please address these for future crops:",
                msgRecFertilizer: "**Fertilizer:** Please conduct a soil test. Until results are available, we recommend using {fertilizerRec}",
                msgRecSeedQuality: "**Seed Quality:** Please do a seed quality test (e.g., germination test) for a higher germination rate and better yield.",
                msgRecPreEmergence: "**Pre-emergence:** Please spray a pre-emergence herbicide for effective early weed control.",
                msgRecWeedMgmt: "**Weed Management:** Please spray herbicides at the appropriate time for better yield.",
                msgRecPestMgmt: "**Pest Management:** Please spray pesticides to protect your crop from damage.",
                msgRecSeedRate: "**Seed Rate:** The optimal seed rate for **{crop}** is approximately **{rate}**. Please verify your rate to prevent stand issues.",
            },
            kn: {
                appTitle: "üåæ ‡≤ï‡≥É‡≤∑‡≤ø ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø ‡≤≠‡≤µ‡≤ø‡≤∑‡≥ç‡≤Ø",
                appSubtitle: "‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï ‡≤∞‡≤æ‡≤ú‡≥ç‡≤Ø‡≤¶ ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø ‡≤Æ‡≥Å‡≤®‡≥ç‡≤∏‡≥Ç‡≤ö‡≤®‡≥Ü",
                startModalTitle: "‡≤ï‡≥É‡≤∑‡≤ø ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø ‡≤≠‡≤µ‡≤ø‡≤∑‡≥ç‡≤Ø‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤∏‡≥Å‡≤∏‡≥ç‡≤µ‡≤æ‡≤ó‡≤§",
                startModalMessage: "‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤∏‡≤π‡≤æ‡≤Ø‡≤ï‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤≤‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ï‡≥É‡≤∑‡≤ø ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ó‡≤≥ ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü ‡≤™‡≥ç‡≤∞‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤≤‡≥Å **‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø** ‡≤ï‡≥ç‡≤≤‡≤ø‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø.",
                startModalButton: "‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø",
                step1Title: "‡≤π‡≤Ç‡≤§ 1: ‡≤≠‡≤æ‡≤∑‡≤æ ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü",
                voicePrompt: "‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤∏‡≤π‡≤æ‡≤Ø‡≤ï ‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≤µ‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤≠‡≤æ‡≤∑‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø!",
                step2Title: "‡≤π‡≤Ç‡≤§ 2: ‡≤ï‡≥É‡≤∑‡≤ø ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≤Æ‡≥Ç‡≤¶‡≤ø‡≤∏‡≤ø",
                labelDistrict: "‡≤ú‡≤ø‡≤≤‡≥ç‡≤≤‡≤æ ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü",
                selectDistrictPlaceholder: "-- ‡≤ú‡≤ø‡≤≤‡≥ç‡≤≤‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø --",
                labelSeason: "‡≤ã‡≤§‡≥Å",
                selectSeasonPlaceholder: "-- ‡≤ã‡≤§‡≥Å‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø --",
                labelYear: "‡≤µ‡≤∞‡≥ç‡≤∑",
                selectYearPlaceholder: "-- ‡≤µ‡≤∞‡≥ç‡≤∑‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø --",
                labelCrop: "‡≤¨‡≥Ü‡≤≥‡≥Ü",
                selectCropPlaceholder: "-- ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø --",
                btnNextManagement: "‡≤Æ‡≥Å‡≤Ç‡≤¶‡≥Ü: ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≤æ ‡≤á‡≤®‡≥ç‡≤™‡≥Å‡≤ü‡≥ç‡≤ó‡≤≥‡≥Å",
                step3Title: "‡≤π‡≤Ç‡≤§ 3: ‡≤ï‡≥É‡≤∑‡≤ø ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≤æ ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤®‡≤æ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø",
                qSoilTest: "‡≤Æ‡≤£‡≥ç‡≤£‡≤ø‡≤® ‡≤´‡≤≤‡≤µ‡≤§‡≥ç‡≤§‡≤§‡≥Ü ‡≤™‡≤∞‡≥Ä‡≤ï‡≥ç‡≤∑‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü‡≤Ø‡≥á? (‡≤´‡≥à‡≤Ç‡≤°‡≥ç-‡≤é‡≤∏‡≥ç ‡≤Ö‡≤≤‡≥ç‡≤ó‡≤æ‡≤∞‡≤ø‡≤¶‡≤Æ‡≥ç ‡≤á‡≤®‡≥ç‡≤™‡≥Å‡≤ü‡≥ç)",
                qSeedTest: "‡≤¨‡≥Ä‡≤ú‡≤¶ ‡≤ó‡≥Å‡≤£‡≤Æ‡≤ü‡≥ç‡≤ü ‡≤™‡≤∞‡≥Ä‡≤ï‡≥ç‡≤∑‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü‡≤Ø‡≥á?",
                qPreEmergence: "‡≤™‡≥Ç‡≤∞‡≥ç‡≤µ-‡≤π‡≥ä‡≤∞‡≤π‡≥ä‡≤Æ‡≥ç‡≤Æ‡≥Å‡≤µ ‡≤ï‡≤≥‡≥Ü‡≤®‡≤æ‡≤∂‡≤ï‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ø‡≤Ç‡≤™‡≤°‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü‡≤Ø‡≥á?",
                labelRainfall: "‡≤ã‡≤§‡≥Å‡≤µ‡≤ø‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ó‡≤Æ‡≤®‡≤ø‡≤∏‡≤ø‡≤¶ ‡≤Æ‡≤≥‡≥Ü",
                selectRainfallPlaceholder: "-- ‡≤Æ‡≤ü‡≥ç‡≤ü‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø --",
                optLess: "‡≤ï‡≤°‡≤ø‡≤Æ‡≥Ü",
                optModerate: "‡≤Æ‡≤ß‡≥ç‡≤Ø‡≤Æ",
                optHigh: "‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å",
                qWeedMgmt: "‡≤™‡≤∞‡≤ø‡≤£‡≤æ‡≤Æ‡≤ï‡≤æ‡≤∞‡≤ø ‡≤ï‡≤≥‡≥Ü ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü‡≤Ø‡≥á?",
                qPestMgmt: "‡≤™‡≤∞‡≤ø‡≤£‡≤æ‡≤Æ‡≤ï‡≤æ‡≤∞‡≤ø ‡≤ï‡≥Ä‡≤ü ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü‡≤Ø‡≥á?",
                qSeedRate: "‡≤¨‡≥Ä‡≤ú‡≤¶ ‡≤¶‡≤∞ (‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤¨‡≥Ä‡≤ú‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤é‡≤ï‡≤∞‡≥Ü) ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü‡≤Ø‡≥á ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≤∞‡≤ø‡≤Ø‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü‡≤Ø‡≥á?",
                btnPredictYield: "‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø ‡≤≠‡≤µ‡≤ø‡≤∑‡≥ç‡≤Ø",
                step4Title: "‡≤π‡≤Ç‡≤§ 4: ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø ‡≤Æ‡≥Å‡≤®‡≥ç‡≤∏‡≥Ç‡≤ö‡≤®‡≥Ü",
                btnReset: "‡≤π‡≥ä‡≤∏ ‡≤≠‡≤µ‡≤ø‡≤∑‡≥ç‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø",
                optYes: "‡≤π‡≥å‡≤¶‡≥Å",
                optNo: "‡≤á‡≤≤‡≥ç‡≤≤",
                modalTitleRecommendation: "‡≤∂‡≤ø‡≤´‡≤æ‡≤∞‡≤∏‡≥Å",
                modalButtonAcknowledge: "‡≤í‡≤™‡≥ç‡≤™‡≤ø‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø",
                // Dynamic Message Templates
                msgInputError: "‡≤Æ‡≥Å‡≤Ç‡≤¶‡≥Å‡≤µ‡≤∞‡≤ø‡≤Ø‡≥Å‡≤µ ‡≤Æ‡≥ä‡≤¶‡≤≤‡≥Å ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤ï‡≥É‡≤∑‡≤ø ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≤æ ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤®‡≤æ‡≤™‡≤ü‡≥ç‡≤ü‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø‡≤® ‡≤é‡≤≤‡≥ç‡≤≤‡≤æ ‡≤™‡≥ç‡≤∞‡≤∂‡≥ç‡≤®‡≥Ü‡≤ó‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤â‡≤§‡≥ç‡≤§‡≤∞‡≤ø‡≤∏‡≤ø.",
                msgYieldUnitQuintal: "‡≤ï‡≥ç‡≤µ‡≤ø‡≤Ç‡≤ü‡≤æ‡≤≤‡≥ç/‡≤é‡≤ï‡≤∞‡≥Ü",
                msgYieldUnitTonne: "‡≤ü‡≤®‡≥ç/‡≤é‡≤ï‡≤∞‡≥Ü",
                msgOptimalManagement: "‡≤Ö‡≤¶‡≥ç‡≤≠‡≥Å‡≤§! ‡≤é‡≤≤‡≥ç‡≤≤‡≤æ ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≤æ ‡≤Ö‡≤≠‡≥ç‡≤Ø‡≤æ‡≤∏‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å '‡≤π‡≥å‡≤¶‡≥Å' ‡≤é‡≤Ç‡≤¶‡≥Å ‡≤ó‡≥Å‡≤∞‡≥Å‡≤§‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤á‡≤¶‡≥Å ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤® ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤â‡≤§‡≥ç‡≤§‡≤Æ ‡≤∏‡≤æ‡≤Æ‡≤∞‡≥ç‡≤•‡≥ç‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥Ç‡≤ö‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü!",
                msgBestCropRecIntro: "**{district}** ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å **{season}** ‡≤Ü‡≤ß‡≤∞‡≤ø‡≤∏‡≤ø, ‡≤∂‡≤ø‡≤´‡≤æ‡≤∞‡≤∏‡≥Å ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤¶ ‡≤Ö‡≤§‡≥ç‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤Æ-‡≤π‡≥ä‡≤Ç‡≤¶‡≤æ‡≤£‡≤ø‡≤ï‡≥Ü‡≤Ø ‡≤¨‡≥Ü‡≤≥‡≥Ü **{bestCrop}** ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü.",
                msgBestCropRecBody: "‡≤®‡≥Ä‡≤µ‡≥Å ‡≤á‡≤®‡≥ç‡≤®‡≥Ç **{crop}** ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Ø‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≥Å‡≤µ‡≤∞‡≤ø‡≤Ø‡≤¨‡≤π‡≥Å‡≤¶‡≥Å, ‡≤Ü‡≤¶‡≤∞‡≥Ü ‡≤Æ‡≥Å‡≤®‡≥ç‡≤∏‡≥Ç‡≤ö‡≤®‡≥Ü‡≤Ø‡≥Å ‡≤ï‡≤°‡≤ø‡≤Æ‡≥Ü‡≤Ø‡≤æ‡≤ó‡≤ø‡≤∞‡≤¨‡≤π‡≥Å‡≤¶‡≥Å.",
                msgCriticalRecTitle: "‚ö†Ô∏è ‡≤§‡≤ï‡≥ç‡≤∑‡≤£‡≤¶ ‡≤ï‡≥ç‡≤∞‡≤Æ ‡≤∂‡≤ø‡≤´‡≤æ‡≤∞‡≤∏‡≥Å",
                msgCriticalRecIntro: "‡≤à ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≤æ ‡≤Ö‡≤≠‡≥ç‡≤Ø‡≤æ‡≤∏‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≤∞‡≤ø‡≤π‡≤∞‡≤ø‡≤∏‡≤¶ ‡≤ï‡≤æ‡≤∞‡≤£ ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø ‡≤Æ‡≥Å‡≤®‡≥ç‡≤∏‡≥Ç‡≤ö‡≤®‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤¶‡≤Ç‡≤°‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü. ‡≤≠‡≤µ‡≤ø‡≤∑‡≥ç‡≤Ø‡≤¶ ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤á‡≤µ‡≥Å‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤™‡≤∞‡≤ø‡≤π‡≤∞‡≤ø‡≤∏‡≤ø:",
                msgRecFertilizer: "**‡≤ó‡≥ä‡≤¨‡≥ç‡≤¨‡≤∞:** ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≤£‡≥ç‡≤£‡≤ø‡≤® ‡≤™‡≤∞‡≥Ä‡≤ï‡≥ç‡≤∑‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≤°‡≥Ü‡≤∏‡≤ø. ‡≤´‡≤≤‡≤ø‡≤§‡≤æ‡≤Ç‡≤∂‡≤ó‡≤≥‡≥Å ‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤æ‡≤ó‡≥Å‡≤µ‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü, ‡≤∏‡≤æ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø‡≤ó‡≤≥ ‡≤Ü‡≤ß‡≤æ‡≤∞‡≤¶ ‡≤Æ‡≥á‡≤≤‡≥Ü {fertilizerRec} ‡≤¨‡≤≥‡≤∏‡≤≤‡≥Å ‡≤®‡≤æ‡≤µ‡≥Å ‡≤∂‡≤ø‡≤´‡≤æ‡≤∞‡≤∏‡≥Å ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≥á‡≤µ‡≥Ü.",
                msgRecSeedQuality: "**‡≤¨‡≥Ä‡≤ú‡≤¶ ‡≤ó‡≥Å‡≤£‡≤Æ‡≤ü‡≥ç‡≤ü:** ‡≤â‡≤§‡≥ç‡≤§‡≤Æ ‡≤Æ‡≥ä‡≤≥‡≤ï‡≥Ü‡≤Ø‡≥ä‡≤°‡≥Ü‡≤Ø‡≥Å‡≤µ‡≤ø‡≤ï‡≥Ü ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤â‡≤§‡≥ç‡≤§‡≤Æ ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø‡≤ó‡≤æ‡≤ó‡≤ø ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤¨‡≥Ä‡≤ú‡≤¶ ‡≤ó‡≥Å‡≤£‡≤Æ‡≤ü‡≥ç‡≤ü ‡≤™‡≤∞‡≥Ä‡≤ï‡≥ç‡≤∑‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Æ‡≤æ‡≤°‡≤ø.",
                msgRecPreEmergence: "**‡≤™‡≥Ç‡≤∞‡≥ç‡≤µ-‡≤π‡≥ä‡≤∞‡≤π‡≥ä‡≤Æ‡≥ç‡≤Æ‡≥Å‡≤µ‡≤ø‡≤ï‡≥Ü:** ‡≤™‡≤∞‡≤ø‡≤£‡≤æ‡≤Æ‡≤ï‡≤æ‡≤∞‡≤ø ‡≤Ü‡≤∞‡≤Ç‡≤≠‡≤ø‡≤ï ‡≤ï‡≤≥‡≥Ü ‡≤®‡≤ø‡≤Ø‡≤Ç‡≤§‡≥ç‡≤∞‡≤£‡≤ï‡≥ç‡≤ï‡≤æ‡≤ó‡≤ø ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤™‡≥Ç‡≤∞‡≥ç‡≤µ-‡≤π‡≥ä‡≤∞‡≤π‡≥ä‡≤Æ‡≥ç‡≤Æ‡≥Å‡≤µ ‡≤ï‡≤≥‡≥Ü‡≤®‡≤æ‡≤∂‡≤ï‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ø‡≤Ç‡≤™‡≤°‡≤ø‡≤∏‡≤ø.",
                msgRecWeedMgmt: "**‡≤ï‡≤≥‡≥Ü ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≥Ü:** ‡≤â‡≤§‡≥ç‡≤§‡≤Æ ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø‡≤ó‡≤æ‡≤ó‡≤ø ‡≤∏‡≥Ç‡≤ï‡≥ç‡≤§ ‡≤∏‡≤Æ‡≤Ø‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ï‡≤≥‡≥Ü‡≤®‡≤æ‡≤∂‡≤ï‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ø‡≤Ç‡≤™‡≤°‡≤ø‡≤∏‡≤ø.",
                msgRecPestMgmt: "**‡≤ï‡≥Ä‡≤ü ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≥Ü:** ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤æ‡≤®‡≤ø‡≤Ø‡≤ø‡≤Ç‡≤¶ ‡≤∞‡≤ï‡≥ç‡≤∑‡≤ø‡≤∏‡≤≤‡≥Å ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤ï‡≥Ä‡≤ü‡≤®‡≤æ‡≤∂‡≤ï‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤ø‡≤Ç‡≤™‡≤°‡≤ø‡≤∏‡≤ø.",
                msgRecSeedRate: "**‡≤¨‡≥Ä‡≤ú‡≤¶ ‡≤¶‡≤∞:** **{crop}** ‡≤ó‡≥Ü ‡≤∏‡≥Ç‡≤ï‡≥ç‡≤§‡≤µ‡≤æ‡≤¶ ‡≤¨‡≥Ä‡≤ú‡≤¶ ‡≤¶‡≤∞‡≤µ‡≥Å ‡≤∏‡≤∞‡≤ø‡≤∏‡≥Å‡≤Æ‡≤æ‡≤∞‡≥Å **{rate}** ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤∏‡≤Æ‡≤∏‡≥ç‡≤Ø‡≥Ü‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≤°‡≥Ü‡≤Ø‡≤≤‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤¶‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤¶‡≥É‡≤¢‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≤ø.",
            },
            te: {
                appTitle: "üåæ ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ",
                appSubtitle: "‡∞ï‡∞∞‡±ç‡∞£‡∞æ‡∞ü‡∞ï ‡∞∞‡∞æ‡∞∑‡±ç‡∞ü‡±ç‡∞∞ ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ",
                startModalTitle: "‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ‡∞ï‡±Å ‡∞∏‡±ç‡∞µ‡∞æ‡∞ó‡∞§‡∞Ç",
                startModalMessage: "‡∞µ‡∞æ‡∞Ø‡∞ø‡∞∏‡±ç ‡∞Ö‡∞∏‡∞ø‡∞∏‡±ç‡∞ü‡±Ü‡∞Ç‡∞ü‡±ç‚Äå‡∞®‡±Å ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Æ‡±Ä ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø ‡∞µ‡∞ø‡∞µ‡∞∞‡∞æ‡∞≤ ‡∞é‡∞Ç‡∞™‡∞ø‡∞ï ‡∞™‡±ç‡∞∞‡∞ï‡±ç‡∞∞‡∞ø‡∞Ø‡∞®‡±Å ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø **‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡±Å** ‡∞ï‡±ç‡∞≤‡∞ø‡∞ï‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø.",
                startModalButton: "‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡±Å",
                step1Title: "‡∞¶‡∞∂ 1: ‡∞≠‡∞æ‡∞∑‡∞æ ‡∞é‡∞Ç‡∞™‡∞ø‡∞ï",
                voicePrompt: "‡∞µ‡∞æ‡∞Ø‡∞ø‡∞∏‡±ç ‡∞Ö‡∞∏‡∞ø‡∞∏‡±ç‡∞ü‡±Ü‡∞Ç‡∞ü‡±ç ‡∞ö‡±Å‡∞∞‡±Å‡∞ï‡±Å‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø. ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞≠‡∞æ‡∞∑‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø!",
                step2Title: "‡∞¶‡∞∂ 2: ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø ‡∞µ‡∞ø‡∞µ‡∞∞‡∞æ‡∞≤‡∞®‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø",
                labelDistrict: "‡∞ú‡∞ø‡∞≤‡±ç‡∞≤‡∞æ ‡∞é‡∞Ç‡∞™‡∞ø‡∞ï",
                selectDistrictPlaceholder: "-- ‡∞ú‡∞ø‡∞≤‡±ç‡∞≤‡∞æ‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø --",
                labelSeason: "‡∞∏‡±Ä‡∞ú‡∞®‡±ç",
                selectSeasonPlaceholder: "-- ‡∞∏‡±Ä‡∞ú‡∞®‡±ç‚Äå‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø --",
                labelYear: "‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞Ç",
                selectYearPlaceholder: "-- ‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø --",
                labelCrop: "‡∞™‡∞Ç‡∞ü",
                selectCropPlaceholder: "-- ‡∞™‡∞Ç‡∞ü‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø --",
                btnNextManagement: "‡∞§‡∞∞‡±Å‡∞µ‡∞æ‡∞§: ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£ ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç‚Äå‡∞≤‡±Å",
                step3Title: "‡∞¶‡∞∂ 3: ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£ ‡∞ö‡±Ü‡∞ï‡±ç‚Äå‡∞≤‡∞ø‡∞∏‡±ç‡∞ü‡±ç",
                qSoilTest: "‡∞®‡±á‡∞≤ ‡∞∏‡∞æ‡∞∞‡∞Ç ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑ ‡∞ú‡∞∞‡∞ø‡∞ó‡∞ø‡∞Ç‡∞¶‡∞æ? (‡∞´‡±à‡∞Ç‡∞°‡±ç-‡∞é‡∞∏‡±ç ‡∞Ö‡∞≤‡±ç‡∞ó‡±ã‡∞∞‡∞ø‡∞•‡∞Ç ‡∞á‡∞®‡±ç‚Äå‡∞™‡±Å‡∞ü‡±ç)",
                qSeedTest: "‡∞µ‡∞ø‡∞§‡±ç‡∞§‡∞® ‡∞®‡∞æ‡∞£‡±ç‡∞Ø‡∞§ ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑ ‡∞ú‡∞∞‡∞ø‡∞ó‡∞ø‡∞Ç‡∞¶‡∞æ?",
                qPreEmergence: "‡∞Æ‡±Å‡∞Ç‡∞¶‡±Å‡∞ó‡∞æ ‡∞Æ‡±ä‡∞≤‡∞ø‡∞ö‡±á ‡∞ï‡∞≤‡±Å‡∞™‡±Å ‡∞∏‡∞Ç‡∞π‡∞æ‡∞∞‡∞ø‡∞£‡∞ø‡∞®‡∞ø ‡∞™‡∞ø‡∞ö‡∞ø‡∞ï‡∞æ‡∞∞‡±Ä ‡∞ö‡±á‡∞∂‡∞æ‡∞∞‡∞æ?",
                labelRainfall: "‡∞∏‡±Ä‡∞ú‡∞®‡±ç‚Äå‡∞≤‡±ã ‡∞ó‡∞Æ‡∞®‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞µ‡∞∞‡±ç‡∞∑‡∞™‡∞æ‡∞§‡∞Ç",
                selectRainfallPlaceholder: "-- ‡∞∏‡±ç‡∞•‡∞æ‡∞Ø‡∞ø‡∞®‡∞ø ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø --",
                optLess: "‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ",
                optModerate: "‡∞Æ‡∞ø‡∞§‡∞Æ‡±à‡∞®",
                optHigh: "‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ",
                qWeedMgmt: "‡∞∏‡∞Æ‡∞∞‡±ç‡∞•‡∞µ‡∞Ç‡∞§‡∞Æ‡±à‡∞® ‡∞ï‡∞≤‡±Å‡∞™‡±Å ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£ ‡∞ú‡∞∞‡∞ø‡∞ó‡∞ø‡∞Ç‡∞¶‡∞æ?",
                qPestMgmt: "‡∞∏‡∞Æ‡∞∞‡±ç‡∞•‡∞µ‡∞Ç‡∞§‡∞Æ‡±à‡∞® ‡∞§‡±Ü‡∞ó‡±Å‡∞≤‡±Å ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£ ‡∞ú‡∞∞‡∞ø‡∞ó‡∞ø‡∞Ç‡∞¶‡∞æ?",
                qSeedRate: "‡∞µ‡∞ø‡∞§‡±ç‡∞§‡∞® ‡∞∞‡±á‡∞ü‡±Å (‡∞µ‡∞ø‡∞§‡±ç‡∞§‡∞®‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞é‡∞ï‡∞∞‡∞æ‡∞≤‡±Å) ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡∞ø, ‡∞∏‡∞∞‡±à‡∞®‡∞¶‡∞æ?",
                btnPredictYield: "‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø‡∞®‡∞ø ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ ‡∞µ‡±á‡∞Ø‡∞Ç‡∞°‡∞ø",
                step4Title: "‡∞¶‡∞∂ 4: ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ",
                btnReset: "‡∞ï‡±ä‡∞§‡±ç‡∞§ ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ‡∞®‡±Å ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø",
                optYes: "‡∞Ö‡∞µ‡±Å‡∞®‡±Å",
                optNo: "‡∞≤‡±á‡∞¶‡±Å",
                modalTitleRecommendation: "‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å",
                modalButtonAcknowledge: "‡∞ó‡±Å‡∞∞‡±ç‡∞§‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø",
                // Dynamic Message Templates
                msgInputError: "‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞ï‡±ä‡∞®‡∞∏‡∞æ‡∞ó‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡±Å‡∞Ç‡∞¶‡±Å ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£ ‡∞ö‡±Ü‡∞ï‡±ç‚Äå‡∞≤‡∞ø‡∞∏‡±ç‡∞ü‡±ç‚Äå‡∞≤‡±ã‡∞®‡∞ø ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞™‡±ç‡∞∞‡∞∂‡±ç‡∞®‡∞≤‡∞ï‡±Å ‡∞∏‡∞Æ‡∞æ‡∞ß‡∞æ‡∞®‡∞Ç ‡∞á‡∞µ‡±ç‡∞µ‡∞Ç‡∞°‡∞ø.",
                msgYieldUnitQuintal: "‡∞ï‡±ç‡∞µ‡∞ø‡∞Ç‡∞ü‡∞æ‡∞≥‡±ç‡∞≥‡±Å/‡∞é‡∞ï‡∞∞‡∞Ç",
                msgYieldUnitTonne: "‡∞ü‡∞®‡±ç‡∞®‡±Å‡∞≤‡±Å/‡∞é‡∞ï‡∞∞‡∞Ç",
                msgOptimalManagement: "‡∞ó‡±ä‡∞™‡±ç‡∞™ ‡∞™‡∞®‡∞ø! ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£ ‡∞™‡∞¶‡±ç‡∞ß‡∞§‡±Å‡∞≤‡±Å '‡∞Ö‡∞µ‡±Å‡∞®‡±Å' ‡∞Ö‡∞®‡∞ø ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡±ç‡∞°‡∞æ‡∞Ø‡∞ø. ‡∞á‡∞¶‡∞ø ‡∞Ö‡∞ß‡∞ø‡∞ï ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø‡∞ï‡∞ø ‡∞¨‡∞≤‡∞Æ‡±à‡∞® ‡∞∏‡∞æ‡∞Æ‡∞∞‡±ç‡∞•‡±ç‡∞Ø‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞∏‡±Ç‡∞ö‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø!",
                msgBestCropRecIntro: "**{district}** ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å **{season}** ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞Ç‡∞ó‡∞æ, ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡∞ø‡∞® ‡∞â‡∞§‡±ç‡∞§‡∞Æ-‡∞∏‡∞∞‡∞ø‡∞™‡±ã‡∞Ø‡±á ‡∞™‡∞Ç‡∞ü **{bestCrop}**.",
                msgBestCropRecBody: "‡∞Æ‡±Ä‡∞∞‡±Å ‡∞á‡∞™‡±ç‡∞™‡∞ü‡∞ø‡∞ï‡±Ä ‡∞Æ‡±Ä **{crop}** ‡∞é‡∞Ç‡∞™‡∞ø‡∞ï‡∞§‡±ã ‡∞ï‡±ä‡∞®‡∞∏‡∞æ‡∞ó‡∞µ‡∞ö‡±ç‡∞ö‡±Å, ‡∞ï‡∞æ‡∞®‡±Ä ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ ‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ‡∞ó‡∞æ ‡∞â‡∞Ç‡∞°‡∞µ‡∞ö‡±ç‡∞ö‡±Å.",
                msgCriticalRecTitle: "‚ö†Ô∏è ‡∞§‡∞ï‡±ç‡∞∑‡∞£ ‡∞ö‡∞∞‡±ç‡∞Ø ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å ‡∞ö‡±á‡∞Ø‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø",
                msgCriticalRecIntro: "‡∞ï‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞™‡∞∞‡∞ø‡∞∑‡±ç‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞®‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£ ‡∞™‡∞¶‡±ç‡∞ß‡∞§‡±Å‡∞≤ ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞Æ‡±Ä ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ ‡∞™‡±Ü‡∞®‡∞æ‡∞≤‡±ç‡∞ü‡±Ä ‡∞µ‡∞ø‡∞ß‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø. ‡∞≠‡∞µ‡∞ø‡∞∑‡±ç‡∞Ø‡∞§‡±ç ‡∞™‡∞Ç‡∞ü‡∞≤ ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞µ‡±Ä‡∞ü‡∞ø‡∞®‡∞ø ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞™‡∞∞‡∞ø‡∞∑‡±ç‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø:",
                msgRecFertilizer: "**‡∞é‡∞∞‡±Å‡∞µ‡±Å:** ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞®‡±á‡∞≤ ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑ ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø. ‡∞´‡∞≤‡∞ø‡∞§‡∞æ‡∞≤‡±Å ‡∞µ‡∞ö‡±ç‡∞ö‡±á ‡∞µ‡∞∞‡∞ï‡±Å, ‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£ ‡∞™‡∞Ç‡∞ü ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞æ‡∞≤ ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞Ç‡∞ó‡∞æ {fertilizerRec} ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞®‡∞ø ‡∞Æ‡±á‡∞Æ‡±Å ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Æ‡±Å.",
                msgRecSeedQuality: "**‡∞µ‡∞ø‡∞§‡±ç‡∞§‡∞® ‡∞®‡∞æ‡∞£‡±ç‡∞Ø‡∞§:** ‡∞Æ‡±Ü‡∞∞‡±Å‡∞ó‡±à‡∞® ‡∞Æ‡±ä‡∞≤‡∞ï‡±Ü‡∞§‡±ç‡∞§‡∞°‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Æ‡∞Ç‡∞ö‡∞ø ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞µ‡∞ø‡∞§‡±ç‡∞§‡∞® ‡∞®‡∞æ‡∞£‡±ç‡∞Ø‡∞§ ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑ ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø.",
                msgRecPreEmergence: "**‡∞Æ‡±Å‡∞Ç‡∞¶‡±Å‡∞ó‡∞æ ‡∞Æ‡±ä‡∞≤‡∞µ‡∞°‡∞Ç:** ‡∞∏‡∞Æ‡∞∞‡±ç‡∞•‡∞µ‡∞Ç‡∞§‡∞Æ‡±à‡∞® ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠ ‡∞ï‡∞≤‡±Å‡∞™‡±Å ‡∞®‡∞ø‡∞Ø‡∞Ç‡∞§‡±ç‡∞∞‡∞£ ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡±Å‡∞Ç‡∞¶‡±Å‡∞ó‡∞æ ‡∞Æ‡±ä‡∞≤‡∞ø‡∞ö‡±á ‡∞ï‡∞≤‡±Å‡∞™‡±Å ‡∞∏‡∞Ç‡∞π‡∞æ‡∞∞‡∞ø‡∞£‡∞ø‡∞®‡∞ø ‡∞™‡∞ø‡∞ö‡∞ø‡∞ï‡∞æ‡∞∞‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø.",
                msgRecWeedMgmt: "**‡∞ï‡∞≤‡±Å‡∞™‡±Å ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£:** ‡∞Æ‡±Ü‡∞∞‡±Å‡∞ó‡±à‡∞® ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞∏‡∞∞‡±à‡∞® ‡∞∏‡∞Æ‡∞Ø‡∞Ç‡∞≤‡±ã ‡∞ï‡∞≤‡±Å‡∞™‡±Å ‡∞∏‡∞Ç‡∞π‡∞æ‡∞∞‡∞ø‡∞£‡∞ø‡∞®‡∞ø ‡∞™‡∞ø‡∞ö‡∞ø‡∞ï‡∞æ‡∞∞‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø.",
                msgRecPestMgmt: "**‡∞§‡±Ü‡∞ó‡±Å‡∞≤‡±Å ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£:** ‡∞Æ‡±Ä ‡∞™‡∞Ç‡∞ü‡∞®‡±Å ‡∞®‡∞∑‡±ç‡∞ü‡∞Ç ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞∞‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞™‡±Å‡∞∞‡±Å‡∞ó‡±Å‡∞Æ‡∞Ç‡∞¶‡±Å‡∞≤‡∞®‡±Å ‡∞™‡∞ø‡∞ö‡∞ø‡∞ï‡∞æ‡∞∞‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø.",
                msgRecSeedRate: "**‡∞µ‡∞ø‡∞§‡±ç‡∞§‡∞® ‡∞∞‡±á‡∞ü‡±Å:** **{crop}** ‡∞ï‡∞ø ‡∞∏‡∞∞‡±à‡∞® ‡∞µ‡∞ø‡∞§‡±ç‡∞§‡∞® ‡∞∞‡±á‡∞ü‡±Å ‡∞∏‡±Å‡∞Æ‡∞æ‡∞∞‡±Å **{rate}**. ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø‡∞≤‡∞®‡±Å ‡∞®‡∞ø‡∞µ‡∞æ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡±Ä ‡∞∞‡±á‡∞ü‡±Å‡∞®‡±Å ‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.",
            },
        };

        // --- Translation Logic ---
        function getTranslation(key, placeholders = {}) {
            const template = translations[currentLangKey][key] || translations['en'][key];
            if (!template) return `[Missing:${key}]`;

            let message = template;
            for (const [placeholder, value] of Object.entries(placeholders)) {
                // Ensure placeholder key is wrapped in {}
                const regex = new RegExp(`{${placeholder}}`, 'g');
                message = message.replace(regex, value);
            }
            return message;
        }

        function translateUI(langKey) {
            currentLangKey = langKey;
            const elements = document.querySelectorAll('[data-i18n-key]');
            
            // 1. Translate all elements with data-i18n-key
            elements.forEach(el => {
                const key = el.getAttribute('data-i18n-key');
                if (key) {
                    const text = getTranslation(key);
                    // Check if it's an input or button value
                    if (el.tagName === 'INPUT' && el.type === 'radio') {
                        // Radio button text is handled by the sibling <span>
                    } else if (el.tagName === 'BUTTON' || el.tagName === 'OPTION' || el.tagName === 'P' || el.tagName === 'H1' || el.tagName === 'H2' || el.tagName === 'H3' || el.tagName === 'LABEL') {
                        el.innerHTML = text;
                    } else if (el.tagName === 'TITLE') {
                        document.title = text;
                    } else if (el.tagName === 'SPAN' && el.closest('label')) {
                         el.textContent = text;
                    }
                    else {
                        el.textContent = text;
                    }
                }
            });

            // 2. Translate specific elements without data-i18n-key (like Yes/No radio spans)
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                const parentLabel = radio.closest('label');
                const span = parentLabel?.querySelector('span');
                if (span) {
                    if (radio.value === 'Yes') {
                        span.textContent = getTranslation('optYes');
                    } else if (radio.value === 'No') {
                        span.textContent = getTranslation('optNo');
                    }
                }
            });
            
            // 3. Translate select options dynamically for rainfall
            const rainfallSelect = document.getElementById('rainfall');
            if (rainfallSelect) {
                Array.from(rainfallSelect.options).forEach(option => {
                    const value = option.value;
                    if (value === 'Less') option.textContent = getTranslation('optLess');
                    else if (value === 'Moderate') option.textContent = getTranslation('optModerate');
                    else if (value === 'High') option.textContent = getTranslation('optHigh');
                });
            }
        }

        // --- Voice Assistant (Speech Synthesis) ---
        function speakPrompt() {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const synth = window.speechSynthesis;

                // Prompts in the three languages
                const prompts = [
                    { lang: 'en-US', text: "Welcome! Please select your preferred language using the buttons below." },
                    { lang: 'kn-IN', text: "‡≤∏‡≥ç‡≤µ‡≤æ‡≤ó‡≤§! ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤¨‡≤ü‡≤®‡≥ç‚Äå‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤≥‡≤∏‡≤ø ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤≠‡≤æ‡≤∑‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø." },
                    { lang: 'te-IN', text: "‡∞∏‡±ç‡∞µ‡∞æ‡∞ó‡∞§‡∞Ç! ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞ï‡±ç‡∞∞‡∞ø‡∞Ç‡∞¶‡∞ø ‡∞¨‡∞ü‡∞®‡±ç‡∞≤‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞Æ‡±Ä ‡∞≠‡∞æ‡∞∑‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø." }
                ];

                // Function to chain the speeches
                function chainSpeech(index) {
                    if (index >= prompts.length) return;

                    const p = prompts[index];
                    const utterance = new SpeechSynthesisUtterance(p.text);
                    utterance.lang = p.lang;

                    utterance.onend = () => chainSpeech(index + 1);
                    synth.speak(utterance);
                }
                
                chainSpeech(0); // Start the chain
            } else {
                console.log("Speech Synthesis not supported in this browser/environment.");
            }
        }
        
        // --- Initial Start Logic (to enable voice) ---
        function startApp() {
            document.getElementById('start-modal-backdrop').classList.add('hidden');
            document.getElementById('app-container').classList.remove('hidden');
            translateUI('en'); // Initialize UI to English
            speakPrompt(); // This call is now safe after user interaction
            updateStepUI(1);
        }

        // --- General Utility Functions ---
        function showModal(titleKey, message, isBestCrop = false) {
            document.getElementById('modal-title').textContent = titleKey;
            
            // Conditional coloring for the Best Crop alert
            document.getElementById('modal-title').classList.toggle('text-primary-green', !isBestCrop);
            document.getElementById('modal-title').classList.toggle('text-secondary-gold', isBestCrop);

            document.getElementById('modal-message').innerHTML = message;
            document.getElementById('btn-modal-ack').textContent = getTranslation('modalButtonAcknowledge');

            const backdrop = document.getElementById('modal-backdrop');
            const content = document.getElementById('modal-content');
            backdrop.classList.remove('hidden');
            
            // Animate in
            setTimeout(() => {
                backdrop.classList.add('opacity-100');
                content.classList.add('scale-100');
                content.classList.remove('scale-90');
            }, 10);
        }

        function closeModal() {
            const backdrop = document.getElementById('modal-backdrop');
            const content = document.getElementById('modal-content');
            // Animate out
            content.classList.remove('scale-100');
            content.classList.add('scale-90');
            backdrop.classList.remove('opacity-100');
            setTimeout(() => {
                backdrop.classList.add('hidden');
            }, 300);
        }

        function updateStepUI(newStep) {
            STEPS.forEach((id, index) => {
                const element = document.getElementById(id);
                if (index + 1 === newStep) {
                    element.classList.remove('hidden');
                    element.style.transform = 'translateX(0)';
                    element.style.opacity = '1';
                } else {
                    element.style.transform = 'translateX(100%)';
                    element.style.opacity = '0';
                    setTimeout(() => {
                        element.classList.add('hidden');
                    }, 500); // Wait for transition to finish
                }
            });
            currentStep = newStep;
        }

        // --- Step 1 Logic ---
        function selectLanguage(langKey) {
            // Apply new language to the UI
            translateUI(langKey);
            
            const langMap = { en: 'English', kn: '‡≤ï‡≤®‡≥ç‡≤®‡≤°', te: '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å' };
            const langName = langMap[langKey] || 'English';

            const modalMessage = {
                en: `You have selected **${langName}**. Click acknowledge to proceed to farm details input.`,
                kn: `‡≤®‡≥Ä‡≤µ‡≥Å **‡≤ï‡≤®‡≥ç‡≤®‡≤°** ‡≤≠‡≤æ‡≤∑‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü ‡≤Æ‡≤æ‡≤°‡≤ø‡≤∞‡≥Å‡≤µ‡≤ø‡≤∞‡≤ø. ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≥Å‡≤µ‡≤∞‡≤ø‡≤Ø‡≤≤‡≥Å ‡≤í‡≤™‡≥ç‡≤™‡≤ø‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø.`,
                te: `‡∞Æ‡±Ä‡∞∞‡±Å **‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å** ‡∞≠‡∞æ‡∞∑‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞∞‡±Å. ‡∞ï‡±ä‡∞®‡∞∏‡∞æ‡∞ó‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Ö‡∞Ç‡∞ó‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.`,
            }[langKey];

            showModal(getTranslation('modalTitleRecommendation'), modalMessage);
            updateStepUI(2);
        }

        // --- Step 2 Logic & Crop Recommendation ---
        async function nextStep(step) {
            if (step === 2) {
                const district = document.getElementById('district').value;
                const season = document.getElementById('season').value;
                const crop = document.getElementById('crop').value;

                if (!district || !season || !crop) {
                    showModal(getTranslation('modalTitleRecommendation'), getTranslation('msgInputError'));
                    return;
                }

                // **Best Crop Recommendation (Pop-up)**
                let bestCrop = null;
                if (district === 'Mandya' && season === 'Kharif') {
                    bestCrop = 'Sugarcane';
                } else if (district === 'Chikmagalur' && season === 'Rabi') {
                    bestCrop = 'Coffee';
                } else if (district === 'Kalaburagi' && season === 'Kharif') {
                    bestCrop = 'Pigeon Pea (Tur/Red Gram)';
                }

                if (bestCrop && bestCrop !== crop) {
                    const recIntro = getTranslation('msgBestCropRecIntro', { district, season, bestCrop });
                    const recBody = getTranslation('msgBestCropRecBody', { crop });

                    showModal(
                        getTranslation('modalTitleRecommendation'),
                        `üí° **${recIntro}** <br><br>${recBody}`,
                        true
                    );
                }

                updateStepUI(3);
            } else if (step === 3) {
                // **Conditional Recommendations (Modal Pop-up)**

                // Check for required inputs
                const soilTest = document.querySelector('input[name="soilTest"]:checked')?.value;
                const seedTest = document.querySelector('input[name="seedTest"]:checked')?.value;
                const preEmergence = document.querySelector('input[name="preEmergence"]:checked')?.value;
                const weedMgmt = document.querySelector('input[name="weedMgmt"]:checked')?.value;
                const pestMgmt = document.querySelector('input[name="pestMgmt"]:checked')?.value;
                const seedRate = document.querySelector('input[name="seedRate"]:checked')?.value;
                const rainfallLevel = document.getElementById('rainfall').value;
                const crop = document.getElementById('crop').value;

                if (!soilTest || !seedTest || !preEmergence || !weedMgmt || !pestMgmt || !seedRate || !rainfallLevel) {
                    showModal(getTranslation('modalTitleRecommendation'), getTranslation('msgInputError'));
                    return;
                }

                let recommendations = [];

                // 1. Soil Test Recommendation (Find S Algorithm concept: If No, give specific fertilizer rec)
                if (soilTest === 'No') {
                    let fertilizerRec = {
                        en: 'a balanced NPK fertilizer (e.g., 10:26:26) based on general crop needs.',
                        kn: '‡≤∏‡≤æ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø‡≤ó‡≤≥ ‡≤Ü‡≤ß‡≤æ‡≤∞‡≤¶ ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤∏‡≤Æ‡≤§‡≥ã‡≤≤‡≤ø‡≤§ NPK ‡≤ó‡≥ä‡≤¨‡≥ç‡≤¨‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å (‡≤â‡≤¶‡≤æ. 10:26:26).',
                        te: '‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£ ‡∞™‡∞Ç‡∞ü ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞æ‡∞≤ ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞∏‡∞Æ‡∞§‡±Å‡∞≤‡±ç‡∞Ø NPK ‡∞é‡∞∞‡±Å‡∞µ‡±Å‡∞®‡±Å (‡∞â‡∞¶‡∞æ. 10:26:26).',
                    }[currentLangKey];
                    
                    if (crop.includes('Rice')) fertilizerRec = { en: 'Urea and MOP based on standard recommendations for Paddy.', kn: '‡≤≠‡≤§‡≥ç‡≤§‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤™‡≥ç‡≤∞‡≤Æ‡≤æ‡≤£‡≤ø‡≤§ ‡≤∂‡≤ø‡≤´‡≤æ‡≤∞‡≤∏‡≥Å‡≤ó‡≤≥ ‡≤Ü‡≤ß‡≤æ‡≤∞‡≤¶ ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤Ø‡≥Ç‡≤∞‡≤ø‡≤Ø‡≤æ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤é‡≤Ç‡≤í‡≤™‡≤ø.', te: '‡∞µ‡∞∞‡∞ø‡∞ï‡∞ø ‡∞™‡±ç‡∞∞‡∞æ‡∞Æ‡∞æ‡∞£‡∞ø‡∞ï ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å‡∞≤ ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞Ø‡±Ç‡∞∞‡∞ø‡∞Ø‡∞æ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞é‡∞Ç‡∞ì‡∞™‡∞ø.' }[currentLangKey];
                    else if (crop.includes('Sugarcane')) fertilizerRec = { en: 'a higher dose of Potash (K) for sugar development.', kn: '‡≤∏‡≤ï‡≥ç‡≤ï‡≤∞‡≥Ü ‡≤Ö‡≤≠‡≤ø‡≤µ‡≥É‡≤¶‡≥ç‡≤ß‡≤ø‡≤ó‡≤æ‡≤ó‡≤ø ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤® ‡≤™‡≥ç‡≤∞‡≤Æ‡≤æ‡≤£‡≤¶ ‡≤™‡≥ä‡≤ü‡≥ç‡≤Ø‡≤æ‡≤∑‡≥ç (‡≤ï‡≥Ü).', te: '‡∞ö‡∞ï‡±ç‡∞ï‡±Ü‡∞∞ ‡∞Ö‡∞≠‡∞ø‡∞µ‡±É‡∞¶‡±ç‡∞ß‡∞ø ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞Æ‡±ã‡∞§‡∞æ‡∞¶‡±Å‡∞≤‡±ã ‡∞™‡±ä‡∞ü‡∞æ‡∞∑‡±ç (K).' }[currentLangKey];

                    recommendations.push(getTranslation('msgRecFertilizer', { fertilizerRec }));
                }

                // 2. Seed Quality
                if (seedTest === 'No') {
                    recommendations.push(getTranslation('msgRecSeedQuality'));
                }

                // 3. Pre-emergence
                if (preEmergence === 'No') {
                    recommendations.push(getTranslation('msgRecPreEmergence'));
                }

                // 4. Weed Management
                if (weedMgmt === 'No') {
                    recommendations.push(getTranslation('msgRecWeedMgmt'));
                }

                // 5. Pest Management
                if (pestMgmt === 'No') {
                    recommendations.push(getTranslation('msgRecPestMgmt'));
                }

                // 6. Seed Rate Recommendation
                if (seedRate === 'No') {
                    let rate = '15 kg/acre';
                    if (crop.includes('Rice')) rate = '20 kg/acre (for transplanting)';
                    else if (crop.includes('Maize')) rate = '8 kg/acre';
                    else if (crop.includes('Sugarcane')) rate = '25,000 setts/acre';

                    recommendations.push(getTranslation('msgRecSeedRate', { crop, rate }));
                }

                if (recommendations.length > 0) {
                    const recMessage = `<h3>${getTranslation('msgCriticalRecTitle')}</h3>
                                       <p class="mb-3">${getTranslation('msgCriticalRecIntro')}</p>` +
                                       '<ul class="list-disc list-inside space-y-2 mt-4 pl-2 text-left">' +
                                       recommendations.map(r => `<li class="font-medium text-red-700">${r}</li>`).join('') +
                                       '</ul>';
                    showModal(getTranslation('modalTitleRecommendation'), recMessage);
                } else {
                    showModal(getTranslation('modalTitleRecommendation'), getTranslation('msgOptimalManagement'));
                }

                // Proceed to prediction
                updateStepUI(4);
                predictYield();
            }
        }

        // --- Rainfall Info Display ---
        function showRainfallInfo() {
            const crop = document.getElementById('crop').value;
            const rainfallLevel = document.getElementById('rainfall').value;
            const infoEl = document.getElementById('rec-rainfall');

            if (!crop || !rainfallLevel) {
                infoEl.classList.add('hidden');
                return;
            }

            let requiredRainfall = 'N/A';
            let message = '';

            switch (crop) {
                case 'Rice (Paddy)': requiredRainfall = '900-1200 mm'; break;
                case 'Sugarcane': requiredRainfall = '1100-1500 mm'; break;
                case 'Maize': requiredRainfall = '500-800 mm'; break;
                case 'Coffee': requiredRainfall = '1500-2500 mm'; break;
                default: requiredRainfall = '600-900 mm';
            }

            const requiredText = {
                en: `The required average seasonal rainfall for **${crop}** is **${requiredRainfall}**.`,
                kn: `**${crop}** ‡≤ó‡≥Ü ‡≤Ö‡≤ó‡≤§‡≥ç‡≤Ø‡≤µ‡≤ø‡≤∞‡≥Å‡≤µ ‡≤∏‡≤∞‡≤æ‡≤∏‡≤∞‡≤ø ‡≤ï‡≤æ‡≤≤‡≥ã‡≤ö‡≤ø‡≤§ ‡≤Æ‡≤≥‡≥Ü‡≤Ø‡≥Å **${requiredRainfall}** ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü.`,
                te: `**${crop}** ‡∞ï‡∞ø ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Æ‡±à‡∞® ‡∞∏‡∞ó‡∞ü‡±Å ‡∞∏‡±Ä‡∞ú‡∞®‡∞≤‡±ç ‡∞µ‡∞∞‡±ç‡∞∑‡∞™‡∞æ‡∞§‡∞Ç **${requiredRainfall}** .`,
            }[currentLangKey];
            message = requiredText;


            if (rainfallLevel === 'Less') {
                 message += {
                    en: ` **Warning:** Low rainfall will negatively impact the yield unless compensated by irrigation.`,
                    kn: ` **‡≤é‡≤ö‡≥ç‡≤ö‡≤∞‡≤ø‡≤ï‡≥Ü:** ‡≤®‡≥Ä‡≤∞‡≤æ‡≤µ‡≤∞‡≤ø ‡≤Æ‡≥Ç‡≤≤‡≤ï ‡≤∏‡≤∞‡≤ø‡≤¶‡≥Ç‡≤ó‡≤ø‡≤∏‡≤¶ ‡≤π‡≥ä‡≤∞‡≤§‡≥Å ‡≤ï‡≤°‡≤ø‡≤Æ‡≥Ü ‡≤Æ‡≤≥‡≥Ü‡≤Ø‡≥Å ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø‡≤Ø ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤ã‡≤£‡≤æ‡≤§‡≥ç‡≤Æ‡≤ï ‡≤™‡≤∞‡≤ø‡≤£‡≤æ‡≤Æ ‡≤¨‡≥Ä‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.`,
                    te: ` **‡∞π‡±Ü‡∞ö‡±ç‡∞ö‡∞∞‡∞ø‡∞ï:** ‡∞®‡±Ä‡∞ü‡∞ø‡∞™‡∞æ‡∞∞‡±Å‡∞¶‡∞≤ ‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ ‡∞≠‡∞∞‡±ç‡∞§‡±Ä ‡∞ö‡±á‡∞Ø‡∞ï‡∞™‡±ã‡∞§‡±á ‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞µ‡∞∞‡±ç‡∞∑‡∞™‡∞æ‡∞§‡∞Ç ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø‡∞™‡±à ‡∞™‡±ç‡∞∞‡∞§‡∞ø‡∞ï‡±Ç‡∞≤ ‡∞™‡±ç‡∞∞‡∞≠‡∞æ‡∞µ‡∞Ç ‡∞ö‡±Ç‡∞™‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.`,
                }[currentLangKey];
            } else if (rainfallLevel === 'High') {
                 message += {
                    en: ` **Warning:** High rainfall increases the risk of waterlogging and fungal diseases.`,
                    kn: ` **‡≤é‡≤ö‡≥ç‡≤ö‡≤∞‡≤ø‡≤ï‡≥Ü:** ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤® ‡≤Æ‡≤≥‡≥Ü‡≤Ø‡≥Å ‡≤®‡≥Ä‡≤∞‡≤ø‡≤® ‡≤®‡≤ø‡≤∂‡≥ç‡≤ö‡≤≤‡≤§‡≥Ü ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∂‡≤ø‡≤≤‡≥Ä‡≤Ç‡≤ß‡≥ç‡≤∞ ‡≤∞‡≥ã‡≤ó‡≤ó‡≤≥ ‡≤Ö‡≤™‡≤æ‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.`,
                    te: ` **‡∞π‡±Ü‡∞ö‡±ç‡∞ö‡∞∞‡∞ø‡∞ï:** ‡∞Ö‡∞ß‡∞ø‡∞ï ‡∞µ‡∞∞‡±ç‡∞∑‡∞™‡∞æ‡∞§‡∞Ç ‡∞®‡±Ä‡∞ü‡∞ø ‡∞®‡∞ø‡∞≤‡±Å‡∞µ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∂‡∞ø‡∞≤‡±Ä‡∞Ç‡∞ß‡±ç‡∞∞ ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡±Å‡∞≤ ‡∞™‡±ç‡∞∞‡∞Æ‡∞æ‡∞¶‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞™‡±Ü‡∞Ç‡∞ö‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.`,
                }[currentLangKey];
            } else {
                 message += {
                    en: ` This is a **Moderate** level, generally suitable.`,
                    kn: ` ‡≤á‡≤¶‡≥Å ‡≤∏‡≤æ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø‡≤µ‡≤æ‡≤ó‡≤ø ‡≤∏‡≥Ç‡≤ï‡≥ç‡≤§‡≤µ‡≤æ‡≤¶ **‡≤Æ‡≤ß‡≥ç‡≤Ø‡≤Æ** ‡≤Æ‡≤ü‡≥ç‡≤ü‡≤µ‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü.`,
                    te: ` ‡∞á‡∞¶‡∞ø ‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£‡∞Ç‡∞ó‡∞æ ‡∞∏‡∞∞‡∞ø‡∞™‡±ã‡∞Ø‡±á **‡∞Æ‡∞ø‡∞§‡∞Æ‡±à‡∞®** ‡∞∏‡±ç‡∞•‡∞æ‡∞Ø‡∞ø.`,
                }[currentLangKey];
            }

            infoEl.innerHTML = message;
            infoEl.classList.remove('hidden');
        }

        // --- Step 4 & 5 Logic: Prediction and Visual Feedback ---
        function predictYield() {
            const crop = document.getElementById('crop').value;
            const rainfallLevel = document.getElementById('rainfall').value;
            const resultDiv = document.getElementById('prediction-result');
            
            // Base yield for a generic crop in Quintals/Acre (or Tonnes for Sugarcane)
            let baseYield = 45; 

            // 1. Base Yield adjustment by crop (Placeholder values)
            if (crop.includes('Rice')) baseYield = 60;
            else if (crop.includes('Sugarcane')) baseYield = 300; // in tonnes/acre
            else if (crop.includes('Coffee')) baseYield = 8;
            else if (crop.includes('Maize')) baseYield = 40;

            // 2. Management Factor (Penalty for each 'No' answer)
            let managementFactor = 1.0;
            const inputs = {
                soilTest: document.querySelector('input[name="soilTest"]:checked')?.value,
                seedTest: document.querySelector('input[name="seedTest"]:checked')?.value,
                preEmergence: document.querySelector('input[name="preEmergence"]:checked')?.value,
                weedMgmt: document.querySelector('input[name="weedMgmt"]:checked')?.value,
                pestMgmt: document.querySelector('input[name="pestMgmt"]:checked')?.value,
                seedRate: document.querySelector('input[name="seedRate"]:checked')?.value,
            };

            for (const key in inputs) {
                if (inputs[key] === 'No') {
                    managementFactor -= 0.08; // 8% penalty for each 'No'
                }
            }

            // 3. Rainfall Factor
            let rainfallFactor = 1.0;
            if (rainfallLevel === 'Less') rainfallFactor = 0.8; // 20% penalty
            else if (rainfallLevel === 'High') rainfallFactor = 0.9; // 10% penalty

            // Final Prediction
            let predictedYield = Math.round(baseYield * managementFactor * rainfallFactor);
            predictedYield = Math.max(1, predictedYield); // Ensure yield is at least 1

            // Determine Feedback
            const maxPotential = baseYield;
            let feedback = '';
            let emoji = '';
            let bgColor = '';
            let yieldUnitKey = (crop === 'Sugarcane') ? 'msgYieldUnitTonne' : 'msgYieldUnitQuintal';
            let yieldUnit = getTranslation(yieldUnitKey);


            // Step 5: Colorful Page & Emoji Feedback
            if (predictedYield >= maxPotential * 0.9) {
                feedback = {
                    en: `Excellent! Your predicted yield is **${predictedYield} ${yieldUnit}**. All management practices seem optimal.`,
                    kn: `‡≤Ö‡≤§‡≥ç‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤Æ! ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤≠‡≤µ‡≤ø‡≤∑‡≥ç‡≤Ø‡≤¶ ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø **${predictedYield} ${yieldUnit}** ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤é‡≤≤‡≥ç‡≤≤‡≤æ ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≤æ ‡≤Ö‡≤≠‡≥ç‡≤Ø‡≤æ‡≤∏‡≤ó‡≤≥‡≥Å ‡≤∏‡≥Ç‡≤ï‡≥ç‡≤§‡≤µ‡≤æ‡≤ó‡≤ø‡≤µ‡≥Ü.`,
                    te: `‡∞Ö‡∞¶‡±ç‡∞≠‡±Å‡∞§‡∞Æ‡±à‡∞®‡∞¶‡∞ø! ‡∞Æ‡±Ä ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ ‡∞µ‡±á‡∞∏‡∞ø‡∞® ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø **${predictedYield} ${yieldUnit}**. ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£ ‡∞™‡∞¶‡±ç‡∞ß‡∞§‡±Å‡∞≤‡±Å ‡∞∏‡∞∞‡±à‡∞®‡∞µ‡∞ø‡∞ó‡∞æ ‡∞ï‡∞®‡∞ø‡∞™‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø.`,
                }[currentLangKey];
                emoji = 'üéâüòÑ';
                bgColor = 'bg-green-100 border-4 border-green-500 text-green-800';
            } else if (predictedYield >= maxPotential * 0.7) {
                feedback = {
                    en: `Good Yield! Your predicted yield is **${predictedYield} ${yieldUnit}**. A few adjustments in management could push this higher.`,
                    kn: `‡≤â‡≤§‡≥ç‡≤§‡≤Æ ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø! ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤≠‡≤µ‡≤ø‡≤∑‡≥ç‡≤Ø‡≤¶ ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø **${predictedYield} ${yieldUnit}** ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≥Ü‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ï‡≥Ü‡≤≤‡≤µ‡≥Å ‡≤π‡≥ä‡≤Ç‡≤¶‡≤æ‡≤£‡≤ø‡≤ï‡≥Ü‡≤ó‡≤≥‡≥Å ‡≤á‡≤¶‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≥Å.`,
                    te: `‡∞Æ‡∞Ç‡∞ö‡∞ø ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø! ‡∞Æ‡±Ä ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ ‡∞µ‡±á‡∞∏‡∞ø‡∞® ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø **${predictedYield} ${yieldUnit}**. ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£‡∞≤‡±ã ‡∞ï‡±ä‡∞®‡±ç‡∞®‡∞ø ‡∞∏‡∞∞‡±ç‡∞¶‡±Å‡∞¨‡∞æ‡∞ü‡±ç‡∞≤‡±Å ‡∞¶‡±Ä‡∞®‡∞ø‡∞®‡∞ø ‡∞™‡±Ü‡∞Ç‡∞ö‡∞ó‡∞≤‡∞µ‡±Å.`,
                }[currentLangKey];
                emoji = 'üôÇüëç';
                bgColor = 'bg-yellow-100 border-4 border-yellow-500 text-yellow-800';
            } else {
                feedback = {
                    en: `Lower Yield Expected. Your predicted yield is **${predictedYield} ${yieldUnit}**. We strongly recommend reviewing the critical management practices to improve future results.`,
                    kn: `‡≤ï‡≤°‡≤ø‡≤Æ‡≥Ü ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø ‡≤®‡≤ø‡≤∞‡≥Ä‡≤ï‡≥ç‡≤∑‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤≠‡≤µ‡≤ø‡≤∑‡≥ç‡≤Ø‡≤¶ ‡≤á‡≤≥‡≥Å‡≤µ‡≤∞‡≤ø **${predictedYield} ${yieldUnit}** ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤≠‡≤µ‡≤ø‡≤∑‡≥ç‡≤Ø‡≤¶ ‡≤´‡≤≤‡≤ø‡≤§‡≤æ‡≤Ç‡≤∂‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥Å‡≤ß‡≤æ‡≤∞‡≤ø‡≤∏‡≤≤‡≥Å ‡≤®‡≤ø‡≤∞‡≥ç‡≤£‡≤æ‡≤Ø‡≤ï ‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≤æ ‡≤Ö‡≤≠‡≥ç‡≤Ø‡≤æ‡≤∏‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤≤‡≥Å ‡≤®‡≤æ‡≤µ‡≥Å ‡≤¨‡≤≤‡≤µ‡≤æ‡≤ó‡≤ø ‡≤∂‡≤ø‡≤´‡≤æ‡≤∞‡≤∏‡≥Å ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≥á‡≤µ‡≥Ü.`,
                    te: `‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ. ‡∞Æ‡±Ä ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ ‡∞µ‡±á‡∞∏‡∞ø‡∞® ‡∞¶‡∞ø‡∞ó‡±Å‡∞¨‡∞°‡∞ø **${predictedYield} ${yieldUnit}**. ‡∞≠‡∞µ‡∞ø‡∞∑‡±ç‡∞Ø‡∞§‡±ç ‡∞´‡∞≤‡∞ø‡∞§‡∞æ‡∞≤‡∞®‡±Å ‡∞Æ‡±Ü‡∞∞‡±Å‡∞ó‡±Å‡∞™‡∞∞‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞ï‡±ç‡∞≤‡∞ø‡∞∑‡±ç‡∞ü‡∞Æ‡±à‡∞® ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞£ ‡∞™‡∞¶‡±ç‡∞ß‡∞§‡±Å‡∞≤‡∞®‡±Å ‡∞∏‡∞Æ‡±Ä‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞Æ‡∞®‡∞ø ‡∞Æ‡±á‡∞Æ‡±Å ‡∞ó‡∞ü‡±ç‡∞ü‡∞ø‡∞ó‡∞æ ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡±ç‡∞∏‡±Å ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Æ‡±Å.`,
                }[currentLangKey];
                emoji = 'üòüüìâ';
                bgColor = 'bg-red-100 border-4 border-red-500 text-red-800';
            }

            const maxPotentialMessage = {
                en: `The maximum potential for this crop is around ${maxPotential} ${yieldUnit} under ideal conditions.`,
                kn: `‡≤Ü‡≤¶‡≤∞‡≥ç‡≤∂ ‡≤™‡≤∞‡≤ø‡≤∏‡≥ç‡≤•‡≤ø‡≤§‡≤ø‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø ‡≤à ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≥Ü ‡≤ó‡≤∞‡≤ø‡≤∑‡≥ç‡≤† ‡≤∏‡≤æ‡≤Æ‡≤∞‡≥ç‡≤•‡≥ç‡≤Ø‡≤µ‡≥Å ‡≤∏‡≥Å‡≤Æ‡≤æ‡≤∞‡≥Å ${maxPotential} ${yieldUnit} ‡≤Ü‡≤ó‡≤ø‡≤¶‡≥Ü.`,
                te: `‡∞Ü‡∞¶‡∞∞‡±ç‡∞∂ ‡∞™‡∞∞‡∞ø‡∞∏‡±ç‡∞•‡∞ø‡∞§‡±Å‡∞≤‡∞≤‡±ã ‡∞à ‡∞™‡∞Ç‡∞ü‡∞ï‡±Å ‡∞ó‡∞∞‡∞ø‡∞∑‡±ç‡∞ü ‡∞∏‡∞æ‡∞Æ‡∞∞‡±ç‡∞•‡±ç‡∞Ø‡∞Ç ‡∞∏‡±Å‡∞Æ‡∞æ‡∞∞‡±Å ${maxPotential} ${yieldUnit} .`,
            }[currentLangKey];

            // Display result
            resultDiv.className = `text-center p-8 rounded-xl shadow-2xl transition duration-500 ${bgColor}`;
            resultDiv.innerHTML = `
                <div class="text-6xl mb-4">${emoji}</div>
                <h3 class="text-3xl font-extrabold mb-4">${getTranslation('btnPredictYield')}: ${predictedYield} ${yieldUnit}</h3>
                <p class="text-lg font-medium">${feedback}</p>
                <p class="text-sm mt-4 text-gray-600">${maxPotentialMessage}</p>
            `;
        }

        function resetApp() {
            // Reset all form inputs
            document.getElementById('district').value = '';
            document.getElementById('season').value = '';
            document.getElementById('year').value = '';
            document.getElementById('crop').value = '';
            document.getElementById('rainfall').value = '';

            document.querySelectorAll('input[type="radio"]').forEach(radio => radio.checked = false);
            document.getElementById('rec-rainfall').classList.add('hidden');

            // Go back to the Start screen
            document.getElementById('app-container').classList.add('hidden');
            document.getElementById('start-modal-backdrop').classList.remove('hidden');
            // Reset UI language back to default English for the start screen
            currentLangKey = 'en'; 
            translateUI('en');
        }
    </script>

</body>
</html>
